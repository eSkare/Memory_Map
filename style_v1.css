/* 1. Base setup: Make html and body fill the screen and use flexbox */
html, body {
    height: 100%; /* Make them take full viewport height */
    margin: 0;
    padding: 0;
    overflow: hidden; /* Prevent main page scrolling; internal scrolling will handle content */
}

body {
    display: flex; /* Make body a flex container */
    flex-direction: column; /* Stack its children vertically */
    box-sizing: border-box; /* Include padding/border in element's total width/height */
    padding: 10px; /* Global padding for the page content */
}

/* 2. Style static header elements (h1, p) */
body > h1,
body > p {
    flex-shrink: 0; /* These elements should take their natural height and not shrink */
    text-align: center;
    margin-top: 0; /* Adjust as needed */
    margin-bottom: 5px; /* Spacing below header */
}

/* 3. Make main containers (#auth-container, #app-container) fill available space */
#auth-container,
#app-container {
    flex-grow: 1; /* These will expand to fill vertical space */
    display: flex; /* Make them flex containers for their own children */
    flex-direction: column; /* Stack their children vertically */
    overflow: hidden; /* Important: prevents scrollbars here, allowing children to manage their own scroll */
    box-sizing: border-box;
    padding: 10px; /* Padding inside the app/auth container */
    border: 1px solid #eee; /* Existing border */
    border-radius: 8px; /* Existing border-radius */
    background-color: #f9f9f9; /* Existing background */
}

/* Ensure #app-container is visible by default for styling */
/* #app-container { display: flex; } /* Temporarily for development, remove for production */


/* 4. Style elements within #app-container */
#app-container h2,
#app-container button,
#app-container h3,
#app-container hr,
#collections-container h3,
#collections-container input,
#collections-container button {
    flex-shrink: 0; /* These elements should take their natural height */
    margin-bottom: 5px; /* Add some spacing below them */
}

/* Make the map itself flexible */
#map {
    width: 100%;
    flex-grow: 2; /* Make map grow to take more space than other flexible items */
    min-height: 200px; /* Minimum height on very small screens */
    margin-top: 10px;
    margin-bottom: 10px;
    border: 1px solid #ccc; /* Existing border */
}

/* Manage potentially overflowing sections with internal scrolling */
#profileData {
    flex-shrink: 0; /* Don't let it grow unless needed, or just set max-height */
    max-height: 100px; /* Example: limit height, adjust as needed (e.g., 10vh) */
    overflow-y: auto; /* Enable vertical scrolling if content exceeds max-height */
    white-space: pre-wrap; /* Preserve formatting but allow wrapping */
    word-wrap: break-word; /* Break long words */
    border: 1px solid #eee;
    padding: 5px;
    background-color: #f0f0f0;
    margin-bottom: 10px; /* Spacing */
}

#collections-list {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
    margin-top: 10px;
    flex-shrink: 0; /* Don't let it grow */
    max-height: 120px; /* Example: limit height, adjust as needed (e.g., 15vh) */
    overflow-y: auto; /* Enable vertical scrolling */
}

/* Adjustments for the collections container itself */
#collections-container {
    flex-grow: 1; /* Allow collections container to grow and take remaining space */
    display: flex;
    flex-direction: column;
    margin-top: 20px;
    padding: 15px;
    border: 1px solid #eee;
    border-radius: 8px;
    background-color: #f9f9f9;
    box-sizing: border-box;
}


/* --- Media Queries for Mobile Responsiveness --- */
/* Adjust flex-grow ratios or max-heights for different screen sizes */
@media (max-width: 768px) {
    body {
        padding: 5px;
    }
    #app-container, #auth-container {
        padding: 5px;
    }
    #map {
        flex-grow: 1; /* Map might take less priority on small screens */
        min-height: 150px;
    }
    #profileData {
        max-height: 80px; /* Less space for profile on mobile */
    }
    #collections-list {
        max-height: 100px; /* Less space for collections on mobile */
    }
    .collection-item {
        font-size: 0.85em;
        padding: 6px 10px;
    }
}

/* Additional styling for collection items */
.collection-item {
    background-color: #e0e0e0;
    padding: 8px 12px;
    border-radius: 5px;
    cursor: pointer;
    font-size: 0.9em;
}
.collection-item.selected {
    background-color: #007bff;
    color: white;
}